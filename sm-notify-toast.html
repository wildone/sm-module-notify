<link rel="import" href="../polymer/polymer.html"> <link rel="import" href="../sm-ui-core/sm-ui-core.html"> <link rel="import" href="../iron-icon/iron-icon.html"> <dom-module id="sm-notify-toast"> <template> <style include="sm-css-shady"></style><style include="sm-css"></style><style>:root{--toast-gutter:12px;--info:var(--blue);--success:var(--green);--warning:var(--orange);--error:var(--red)}; :host{@apply(--typography);position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:#fff;color:var(--dark-gray);width:350px;border-radius:var(--border-radius);box-shadow:0 1px 1px var(--light-black);margin:var(--toast-gutter);overflow:hidden;visibility:hidden}:host(:hover){opacity:.8}.content{padding:12px 20px}.content,.content__title{line-height:1.6}.content__title{font-weight:600;display:block;font-size:16px}.content{font-size:14px}.close{--iron-icon-width:14px;--iron-icon-height:14px;position:absolute;top:7px;right:8px;cursor:pointer;color:var(--gray);border-radius:999px;border:1px solid var(--gray);padding:1px}.flag{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:60px;min-height:40px;color:#fff}.flag__icon{--iron-icon-height:24px;--iron-icon-width:24px}:host([title]) .flag{width:80px;min-height:60px}:host([title]) .flag__icon{--iron-icon-height:32px;--iron-icon-width:32px}:host([type=info]) .flag{background:var(--info)}:host([type=success]) .flag{background:var(--success)}:host([type=warning]) .flag{background:var(--warning)}:host([type=error]) .flag{background:var(--error)}</style><div class="flag"> <iron-icon class="flag__icon" icon="[[icon]]"></iron-icon> </div> <div class="content"> <span class="content__title">[[title]]</span> <content></content> </div> <iron-icon class="close" icon="simpla:cross" on-tap="destroy"></iron-icon> </template> <script>!function(){"use strict";var e={};e.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),e.defineProperty=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e};var t={open:{easing:simpla._constants.easings.easeOutCubic,fill:"both",duration:100},close:{easing:"ease",duration:150}},i={_openToast:function(i){var n="margin-"+i,o=window.getComputedStyle(this)[n];this.style.visibility="visible",this.animate([e.defineProperty({},"margin-"+i,-this.offsetHeight+"px"),e.defineProperty({},"margin-"+i,o)],t.open)},_closeToast:function(){var e=this,i=this.animate([{opacity:1},{opacity:0}],t.close);i.onfinish=function(){e.remove()}}},n=function(){function t(){e.classCallCheck(this,t)}return e.createClass(t,[{key:"beforeRegister",value:function(){this.is="sm-notify-toast",this.properties={type:{type:String,reflectToAttribute:!0,value:"info"},icon:{type:String,computed:"_computeIcon(type)",value:"simpla:info"},duration:{type:Number,value:3e3},persist:{type:Boolean,value:!1},title:{type:String,reflectToAttribute:!0},fromPosition:{type:String,value:"top"}}}},{key:"show",value:function(){var e=this;this._openToast(this.fromPosition),this.persist||setTimeout(function(){e._closeToast()},this.duration)}},{key:"destroy",value:function(){this._closeToast()}},{key:"_computeIcon",value:function(e){var t={info:"simpla:info",success:"simpla:happy-smiley",warning:"simpla:shocked-smiley",error:"simpla:sad-smiley"};return t[e]}},{key:"behaviors",get:function(){return[i]}}]),t}();Polymer(n)}();</script></dom-module>